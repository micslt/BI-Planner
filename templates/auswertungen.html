{% include "header.html" %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>

<div class="container">
    <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width:100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">100%</div>
    </div>
</div>
<br>
<div class="container">
    <h4 class="rahmen">Summary</h4>
        <br>
         <p style="text-align: justify;"> Sie haben den BI-Planner-Prozess erfolgreich beendet. Auf dieser Seite finden
             Sie alle Eingaben aufgelistet. Sie können die Seite nun über den gelben Button unten drucken und diese
             Angaben als Hilfsmittel für den Aufbau und den Betrieb der Business Intelligence benutzen. Bitte geben Sie
             nun noch ein Feedback zu dem Prozess ab über den blauen Button «Feedback geben».
    </p>
</div>


<div class="container">
    <h6><label>Standortbestimmung:</label></h6>
    {% if results %}
    <table class="table">
        <thead>
            <tr>
                <th>Organisation</th>
                <th>Ressourcen</th>
                <th>Dateninfrastruktur</th>
                <th>Analytik</th>
                <th>Governance</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for row in results %}
            <tr>
                <td>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: {{ row[1] }}%;" aria-valuenow="{{ row[1] }}" aria-valuemin="0" aria-valuemax="100">{{ row[1] }}%</div>
                    </div>
                </td>
                <td>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: {{ row[2] }}%;" aria-valuenow="{{ row[2] }}" aria-valuemin="0" aria-valuemax="100">{{ row[2] }}%</div>
                    </div>
                </td>
                <td>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: {{ row[3] }}%;" aria-valuenow="{{ row[3] }}" aria-valuemin="0" aria-valuemax="100">{{ row[3] }}%</div>
                    </div>
                </td>
                <td>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: {{ row[4] }}%;" aria-valuenow="{{ row[4] }}" aria-valuemin="0" aria-valuemax="100">{{ row[4] }}%</div>
                    </div>
                </td>
                <td>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: {{ row[5] }}%;" aria-valuenow="{{ row[5] }}" aria-valuemin="0" aria-valuemax="100">{{ row[5] }}%</div>
                    </div>
                </td>
                <td>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: {{ row[6] }}%;" aria-valuenow="{{ row[6] }}" aria-valuemin="0" aria-valuemax="100">{{ row[6] }}%</div>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>Keine Daten gefunden.</p>
    {% endif %}

    <br>
    <h6><label>Rahmenbedingungen</label></h6>
    <div class="table-container" style="display: inline-block;">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>IT-Betrieb</th>
                    <th>BI-Aufbau</th>
                    <th>Ressourcen vorhanden</th>
                    <th>Know-how vorhanden</th>
                    <th>finanzieller Bedarf</th>
                    <th>finanzielle Mittel sichergestellt</th>
                    <th>Personendaten</th>
                    <th>gesetzeskonforme Bearbeitung</th>
                    <th>Gesetze</th>
                </tr>
            </thead>
            <tbody>
                {% for nummer, rahmenbedingung in rahmenbedingungen %}
                <tr>
                    <td>{{ rahmenbedingung[0] }}</td>
                    <td>{{ rahmenbedingung[1] }}</td>
                    <td>{{ rahmenbedingung[2] }}</td>
                    <td>{{ rahmenbedingung[3] }}</td>
                    <td>{{ rahmenbedingung[4] }}</td>
                    <td>{{ rahmenbedingung[5] }}</td>
                    <td>{{ rahmenbedingung[6] }}</td>
                    <td>{{ rahmenbedingung[7] }}</td>
                    <td>{{ rahmenbedingung[8] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div><br>

    <div>
    <table><br>
  <tr>
      <td class="left-column"><h6><label>Unternehmensziele</label></h6></td>
    <td class="left-column"><h6><label>Informationsbedarf</label></h6></td>
      <td class="left-column"><h6><label>Datenquellen</label></h6></td>
  </tr>
  <tr>
       <td class="left-column">
             <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Nr.</th>
                            <th>Ziel</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for nummer, ziel in ziele %}
                        <tr>
                            <td>{{ nummer }}</td>
                            <td>{{ ziel }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
       </td>
      <td class="left-column"><table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Nr.</th>
                        <th>Bezeichnung</th>
                        <th>Informationsbedarf</th>
                        <th>Priorität</th>

                    </tr>
                </thead>
                <tbody>
                    {% for nummer, informationsbedarf in informationsbedarf_liste %}
                    <tr>
                        <td>{{ nummer }}</td>
                        <td>{{ informationsbedarf[0] }}</td>
                        <td>{{ informationsbedarf[1] }}</td>
                        <td>{{ informationsbedarf[2] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
      </table></td>
      <td class="left-column">
          <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Nr.</th>
                    <th>Anwendung</th>
                    <th>Inhalt</th>
                </tr>
            </thead>
            <tbody>
                {% for nummer, datenquelle in datenquellen %}
                <tr>
                    <td>{{ nummer }}</td>
                    <td>{{ datenquelle[0] }}</td>
                    <td>{{ datenquelle[1] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
      </td>
  </tr>
    </table>
      </div>
    <br>
    <h6><label>Datenmanagementkonzept</label></h6>
        <div class="table-container" style="display: inline-block;">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Nummer</th>
                    <th>Konzeption</th>
                    <th>Architektur</th>
                    <th>Applikation(en)</th>
                </tr>
            </thead>
            <tbody>
                {% for nummer, datenmanagement in datenmanagementkonzept %}
                <tr>
                    <td>{{ nummer }}</td>
                    <td>{{ datenmanagement[0] }}</td>
                    <td>{{ datenmanagement[1] }}</td>
                    <td>{{ datenmanagement[2] }}</td>
                 </tr>
                {% endfor %}
            </tbody>
        </table><br>
    </div>


    <h6><label>ETL-Prozesse</label></h6>
                <div class="table-container" style="display: inline-block;">
                <h7>Extraktionen</h7>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Datenquelle</th>
                        <th>Datenart</th>
                        <th>Abfragezeit</th>
                        <th>Abfragefreq.</th>
                        <th>ausserhalb op. Nutzungszeit</th>
                        <th>Abfrageart</th>
                        <th>Kommentare</th>
                        <th>Verfahren</th>
                        <th>Kompr.</th>
                        <th>Verschl.</th>
                        <th>Personendaten</th>
                    </tr>
                </thead>
                <tbody>
                    {% for nummer, etl_angabe in etl%}
                    <tr>
                        <td>{{ etl_angabe[0] }}</td>
                        <td>{{ etl_angabe[1] }}</td>
                        <td>{{ etl_angabe[2] }}</td>
                        <td>{{ etl_angabe[3] }}</td>
                        <td>{{ etl_angabe[4] }}</td>
                        <td>{{ etl_angabe[5] }}</td>
                        <td>{{ etl_angabe[6] }}</td>
                        <td>{{ etl_angabe[7] }}</td>
                        <td>{{ etl_angabe[8] }}</td>
                        <td>{{ etl_angabe[9] }}</td>
                        <td>{{ etl_angabe[10] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

                <div class="table-container" style="display: inline-block;">
            <table class="table table-striped table-hover">
                <h7>Transformationen</h7>
                <thead>
                    <tr>
                        <th>Datenquelle</th>
                        <th>Namenskonflikte bereinigt</th>
                        <th>Strukturelle Konflikte bereinigt</th>
                        <th>Duplizierte Werte bereinigt</th>
                        <th>Inkonsistenzen bereinigt</th>
                        <th>Datumsformate bereinigt</th>
                        <th>Kommastellen bereinigt</th>
                        <th>Fehlende Werte bereinigt</th>
                        <th>Schlüssel einheitlich</th>

                    </tr>
                </thead>
                <tbody>
                    {% for nummer, etl_angabe in etl%}
                    <tr>
                        <td>{{ etl_angabe[0] }}</td>
                        <td>{{ etl_angabe[11] }}</td>
                        <td>{{ etl_angabe[12] }}</td>
                        <td>{{ etl_angabe[13] }}</td>
                        <td>{{ etl_angabe[14] }}</td>
                        <td>{{ etl_angabe[15] }}</td>
                        <td>{{ etl_angabe[16] }}</td>
                        <td>{{ etl_angabe[17] }}</td>
                        <td>{{ etl_angabe[18] }}</td>

                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

                    <div class="table-container" style="display: inline-block;">
            <table class="table table-striped table-hover">
                <h7>Laden</h7>
                <thead>
                    <tr>
                        <th>Datenquelle</th>
                        <th>Ladevorgang</th>
                        <th>Zielort</th>
                        <th>Datentabellenname</th>

                    </tr>
                </thead>
                <tbody>
                    {% for nummer, etl_angabe in etl%}
                    <tr>
                        <td>{{ etl_angabe[0] }}</td>
                        <td>{{ etl_angabe[19] }}</td>
                        <td>{{ etl_angabe[20] }}</td>
                        <td>{{ etl_angabe[21] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table><br>
        </div>



    <h6><label>Analysen</label></h6>
        <div class="table-container" style="display: inline-block;">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Nr.</th>
                    <th>Informationsbedarf</th>
                    <th>Beschreibung</th>
                    <th>Berechnung</th>
                    <th>Darstellungsart</th>
                </tr>
            </thead>
            <tbody>
                {% for nummer, analyse in analysen %}
                <tr>
                    <td>{{ nummer }}</td>
                    <td>{{ analyse[0] }}</td>
                    <td>{{ analyse[1] }}</td>
                    <td>{{ analyse[2] }}</td>
                    <td>{{ analyse[3] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table><br>
    </div>

    <h6><label>Dashboards und Berichte</label></h6>
            <div class="table-container" style="display: inline-block;">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Nummer</th>
                    <th>Bezeichnung</th>
                    <th>Art</th>
                    <th>Empfänger</th>
                    <th>beinhaltete Messungen</th>
                </tr>
            </thead>
            <tbody>
                {% for nummer, information in informationsbereitstellung %}
                <tr>
                    <td>{{ nummer }}</td>
                    <td>{{ information[0] }}</td>
                    <td>{{ information[1] }}</td>
                    <td>{{ information[2] }}</td>
                    <td>{{ information[3] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <table>
  <tr>
      <td class="left-column"><h6><label>Qualitätskontrollen Visualisierungen</label></h6></td>
    <td><h6><label>Qualitätskontrollen Dashboards</label></h6></td>
  </tr>
  <tr>
    <td class="left-column">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Nummer</th>
                    <th>Element</th>
                    <th>Qualität</th>
                </tr>
            </thead>
            <tbody>
                {% for nummer, visual in visualisierung %}
                <tr>
                    <td>{{ nummer }}</td>
                    <td>{{ visual[0] }}</td>
                    <td>{{ visual[1] }}</td>

                </tr>
                {% endfor %}
            </tbody>
        </table>
    </td>
    <td><table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Nummer</th>
                    <th>Element</th>
                    <th>Qualität</th>
                </tr>
            </thead>
            <tbody>
                {% for nummer, dash in dashboard %}
                <tr>
                    <td>{{ nummer }}</td>
                    <td>{{ dash[0] }}</td>
                    <td>{{ dash[1] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table></td>
  </tr>
</table>
<br>
<br>
</div>


<br>
<div class="text-center">
    <a href="/dashboard" class="btn btn-secondary">Zurück</a>
    <button onclick="window.print()" class="btn btn-warning">Drucken</button>
    <a href="/feedback" class="btn btn-primary">Feedback geben</a>
</div>

<script>
    function submitForm() {
        document.getElementById("selectForm").submit();
    }

  function saveAsPDF() {
    const doc = new jsPDF();
    const html = document.querySelector('html');

    doc.html(html, {
      callback: function () {
        doc.save('output.pdf');
      }
    });
  }
</script>


{% include "footer.html" %}
